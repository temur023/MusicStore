# Nixpacks Configuration for MusicStore
# This file handles the entire build process. 
# It runs from the REPO ROOT (see instructions below).

[phases.setup]
nixPkgs = ["dotnet-sdk_9"]

[phases.build]
# We build explicitly from the root info the output folder
# We DO NOT use --no-restore, ensuring packages are downloaded
cmds = ["dotnet publish MusicStore/MusicStore.csproj -c Release -o out"]

[start]
# We run the published DLL from the output folder
cmd = "dotnet out/MusicStore.dll"
